---
export interface Props {
  title: string;
  description: string;
  sessions: number;
  price: string;
  features: string[];
  popular?: boolean;
  badge?: string;
}

const { title, description, sessions, price, features, popular = false, badge } = Astro.props;
---

<div class={`card relative ${popular ? 'ring-2 ring-primary-500 scale-105' : ''}`}>
  {popular && (
    <div class="absolute -top-3 left-1/2 transform -translate-x-1/2">
      <span class="bg-primary-500 text-white px-4 py-1 rounded-full text-sm font-semibold">
        Más Popular
      </span>
    </div>
  )}
  
  {badge && (
    <div class="absolute -top-2 -right-2">
      <span class="bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold">
        {badge}
      </span>
    </div>
  )}
  
  <div class="text-center mb-6">
    <h3 class="text-2xl font-bold text-neutral-800 mb-2">{title}</h3>
    <p class="text-neutral-600 mb-4">{description}</p>
    
    <div class="flex items-center justify-center mb-4">
      <span class="text-4xl font-bold text-primary-600">{price}</span>
      <span class="text-neutral-500 ml-2">/ {sessions} sesiones</span>
    </div>
    
    <div class="text-sm text-neutral-500">
      Precio por sesión: <span class="font-semibold">{Math.round(parseInt(price.replace('€', '')) / sessions)}€</span>
    </div>
  </div>
  
  <ul class="space-y-3 mb-8">
    {features.map(feature => (
      <li class="flex items-center text-neutral-700">
        <svg class="w-5 h-5 text-green-500 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
        </svg>
        <span>{feature}</span>
      </li>
    ))}
  </ul>
  
  <a 
    href="https://wa.me/34691804629?text=Hola%20Aitana,%20me%20interesa%20el%20pack%20de%20" + encodeURIComponent(title)
    target="_blank"
    rel="noopener noreferrer"
    class={`block w-full text-center py-3 px-6 rounded-lg font-semibold transition-colors duration-200 ${
      popular 
        ? 'bg-primary-500 hover:bg-primary-600 text-white' 
        : 'bg-neutral-100 hover:bg-neutral-200 text-neutral-800'
    }`}
  >
    Reservar Ahora
  </a>
</div>